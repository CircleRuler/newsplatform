[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\n$ = Package.jquery.$;\njQuery = Package.jquery.jQuery;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nSession = Package.session.Session;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package.templating.Template;\nmeteorInstall = Package.modules.meteorInstall;\nBuffer = Package.modules.Buffer;\nprocess = Package.modules.process;\nSymbol = Package['ecmascript-runtime'].Symbol;\nMap = Package['ecmascript-runtime'].Map;\nSet = Package['ecmascript-runtime'].Set;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nAccounts = Package['accounts-base'].Accounts;\nShowdown = Package.markdown.Showdown;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"client\":{\"template.client.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                     //\n// client/template.client.js                                                                           //\n//                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                       //\n                                                                                                       // 1\nTemplate.body.addContent((function() {                                                                 // 2\n  var view = this;                                                                                     // 3\n  return [ Spacebars.include(view.lookupTemplate(\"nav\")), \"\\n    \", Spacebars.include(view.lookupTemplate(\"container\")), \"\\n    \", Spacebars.include(view.lookupTemplate(\"footer\")) ];\n}));                                                                                                   // 5\nMeteor.startup(Template.body.renderToDocument);                                                        // 6\n                                                                                                       // 7\nTemplate.__checkName(\"nav\");                                                                           // 8\nTemplate[\"nav\"] = new Template(\"Template.nav\", (function() {                                           // 9\n  var view = this;                                                                                     // 10\n  return HTML.DIV({                                                                                    // 11\n    \"class\": \"navbar navbar-inverse navbar-fixed-top\"                                                  // 12\n  }, \"\\n        \", HTML.DIV({                                                                          // 13\n    \"class\": \"navbar-inner\"                                                                            // 14\n  }, \"\\n            \", HTML.DIV({                                                                      // 15\n    \"class\": \"container\"                                                                               // 16\n  }, \"\\n                \", HTML.Raw('<a class=\"btn btn-navbar\" data-toggle=\"collapse\" data-target=\".nav-collapse\">\\n                    <span class=\"icon-bar\"></span>\\n                    <span class=\"icon-bar\"></span>\\n                    <span class=\"icon-bar\"></span>\\n                </a>'), \"\\n                \", HTML.Raw('<a href=\"/\" class=\"brand\">新闻爆料</a>'), \"\\n                \", HTML.DIV({\n    \"class\": \"nav-collapse\"                                                                            // 18\n  }, \"\\n                    \", HTML.UL({                                                               // 19\n    \"class\": \"nav\"                                                                                     // 20\n  }, \"\\n                        \", HTML.LI({                                                           // 21\n    \"class\": function() {                                                                              // 22\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"active\"), \"lists\"));                        // 23\n    }                                                                                                  // 24\n  }, HTML.Raw('<a href=\"/lists\" style=\"font-weight: bold;color:#eee;font-size: 18px;\">排行榜</a>')), \"\\n                        \", HTML.LI({\n    \"class\": function() {                                                                              // 26\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"active\"), \"index\"));                        // 27\n    }                                                                                                  // 28\n  }, HTML.Raw('<a href=\"/\">首页</a>')), \"\\n                        \", Blaze.If(function() {              // 29\n    return Spacebars.call(view.lookup(\"currentUser\"));                                                 // 30\n  }, function() {                                                                                      // 31\n    return [ \"\\n                            \", HTML.LI({                                               // 32\n      \"class\": function() {                                                                            // 33\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"active\"), \"self\"));                       // 34\n      }                                                                                                // 35\n    }, HTML.A({                                                                                        // 36\n      href: \"/self\"                                                                                    // 37\n    }, Blaze.View(\"lookup:currentUser.username\", function() {                                          // 38\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"currentUser\"), \"username\"));                // 39\n    }))), \"\\n                            \", HTML.LI({                                                  // 40\n      \"class\": function() {                                                                            // 41\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"active\"), \"friend\"));                     // 42\n      }                                                                                                // 43\n    }, HTML.A({                                                                                        // 44\n      href: \"/friend\"                                                                                  // 45\n    }, \"好友\")), \"\\n                            \", HTML.LI(HTML.A({                                      // 46\n      href: \"/logout\"                                                                                  // 47\n    }, \"登出\")), \"\\n                        \" ];                                                         // 48\n  }, function() {                                                                                      // 49\n    return [ \"\\n                            \", HTML.LI({                                               // 50\n      \"class\": function() {                                                                            // 51\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"active\"), \"login\"));                      // 52\n      }                                                                                                // 53\n    }, HTML.A({                                                                                        // 54\n      href: \"/login\"                                                                                   // 55\n    }, \"登入\")), \"\\n                            \", HTML.LI({                                             // 56\n      \"class\": function() {                                                                            // 57\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"active\"), \"reg\"));                        // 58\n      }                                                                                                // 59\n    }, HTML.A({                                                                                        // 60\n      href: \"/reg\"                                                                                     // 61\n    }, \"注册\")), \"\\n                        \" ];                                                         // 62\n  }), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \");   // 63\n}));                                                                                                   // 64\n                                                                                                       // 65\nTemplate.__checkName(\"container\");                                                                     // 66\nTemplate[\"container\"] = new Template(\"Template.container\", (function() {                               // 67\n  var view = this;                                                                                     // 68\n  return HTML.DIV({                                                                                    // 69\n    id: \"container\",                                                                                   // 70\n    \"class\": \"container\"                                                                               // 71\n  }, \"\\n        \", Spacebars.include(view.lookupTemplate(\"info\")), \"\\n        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"currentUrl\"), \"index\"));                          // 73\n  }, function() {                                                                                      // 74\n    return [ \"\\n            \", Spacebars.include(view.lookupTemplate(\"index\")), \"\\n        \" ];        // 75\n  }), \"\\n        \", Blaze.If(function() {                                                              // 76\n    return Spacebars.call(Spacebars.dot(view.lookup(\"currentUrl\"), \"login\"));                          // 77\n  }, function() {                                                                                      // 78\n    return [ \"\\n            \", Spacebars.include(view.lookupTemplate(\"login\")), \"\\n        \" ];        // 79\n  }), \"\\n        \", Blaze.If(function() {                                                              // 80\n    return Spacebars.call(Spacebars.dot(view.lookup(\"currentUrl\"), \"reg\"));                            // 81\n  }, function() {                                                                                      // 82\n    return [ \"\\n            \", Spacebars.include(view.lookupTemplate(\"reg\")), \"\\n        \" ];          // 83\n  }), \"\\n        \", Blaze.If(function() {                                                              // 84\n    return Spacebars.call(Spacebars.dot(view.lookup(\"currentUrl\"), \"self\"));                           // 85\n  }, function() {                                                                                      // 86\n    return [ \"\\n            \", Spacebars.include(view.lookupTemplate(\"self\")), \"\\n        \" ];         // 87\n  }), \"\\n        \", Blaze.If(function() {                                                              // 88\n    return Spacebars.call(Spacebars.dot(view.lookup(\"currentUrl\"), \"friend\"));                         // 89\n  }, function() {                                                                                      // 90\n    return [ \"\\n            \", Spacebars.include(view.lookupTemplate(\"friend\")), \"\\n        \" ];       // 91\n  }), \"\\n        \", Blaze.If(function() {                                                              // 92\n    return Spacebars.call(Spacebars.dot(view.lookup(\"currentUrl\"), \"lists\"));                          // 93\n  }, function() {                                                                                      // 94\n    return [ \"\\n            \", Spacebars.include(view.lookupTemplate(\"lists\")), \"\\n        \" ];        // 95\n  }), \"\\n    \");                                                                                       // 96\n}));                                                                                                   // 97\n                                                                                                       // 98\nTemplate.__checkName(\"footer\");                                                                        // 99\nTemplate[\"footer\"] = new Template(\"Template.footer\", (function() {                                     // 100\n  var view = this;                                                                                     // 101\n  return HTML.Raw('<p class=\"muted text-center\">Newsplatform 2016</p>');                               // 102\n}));                                                                                                   // 103\n                                                                                                       // 104\nTemplate.__checkName(\"info\");                                                                          // 105\nTemplate[\"info\"] = new Template(\"Template.info\", (function() {                                         // 106\n  var view = this;                                                                                     // 107\n  return [ Blaze.If(function() {                                                                       // 108\n    return Spacebars.call(Spacebars.dot(view.lookup(\"info\"), \"success\"));                              // 109\n  }, function() {                                                                                      // 110\n    return [ \"\\n        \", HTML.DIV({                                                                  // 111\n      \"class\": \"alert alert-success\"                                                                   // 112\n    }, Blaze.View(\"lookup:info.success\", function() {                                                  // 113\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"info\"), \"success\"));                        // 114\n    })), \"\\n    \" ];                                                                                   // 115\n  }), \"\\n    \", Blaze.If(function() {                                                                  // 116\n    return Spacebars.call(Spacebars.dot(view.lookup(\"info\"), \"error\"));                                // 117\n  }, function() {                                                                                      // 118\n    return [ \"\\n        \", HTML.DIV({                                                                  // 119\n      \"class\": \"alert alert-error\"                                                                     // 120\n    }, Blaze.View(\"lookup:info.error\", function() {                                                    // 121\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"info\"), \"error\"));                          // 122\n    })), \"\\n    \" ];                                                                                   // 123\n  }) ];                                                                                                // 124\n}));                                                                                                   // 125\n                                                                                                       // 126\n/////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.index.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                     //\n// client/template.index.js                                                                            //\n//                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                       //\n                                                                                                       // 1\nTemplate.__checkName(\"index\");                                                                         // 2\nTemplate[\"index\"] = new Template(\"Template.index\", (function() {                                       // 3\n  var view = this;                                                                                     // 4\n  return [ Blaze.If(function() {                                                                       // 5\n    return Spacebars.call(view.lookup(\"currentUser\"));                                                 // 6\n  }, function() {                                                                                      // 7\n    return [ \"\\n        \", HTML.FORM({                                                                 // 8\n      action: \"\",                                                                                      // 9\n      \"class\": \"well form-inline center\",                                                              // 10\n      style: \"text-align:center;\"                                                                      // 11\n    }, \"\\n            \", HTML.TEXTAREA({                                                               // 12\n      \"class\": \"span8\",                                                                                // 13\n      id: \"post\"                                                                                       // 14\n    }), \"\\n            \", HTML.BUTTON({                                                                // 15\n      id: \"submit\",                                                                                    // 16\n      \"class\": \"btn btn-success\"                                                                       // 17\n    }, \"发表\"), \"\\n        \"), \"\\n    \" ];                                                               // 18\n  }, function() {                                                                                      // 19\n    return [ \"\\n        \", HTML.H2(\"游客无法发布新闻或者评论。请注册或者登陆。\"), \"\\n    \" ];                               // 20\n  }), \"\\n    \", Blaze.Each(function() {                                                                // 21\n    return Spacebars.call(view.lookup(\"posts\"));                                                       // 22\n  }, function() {                                                                                      // 23\n    return [ \"\\n        \", HTML.H2(Blaze.View(\"lookup:user.username\", function() {                     // 24\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"username\"));                       // 25\n    }), \" \", HTML.BUTTON({                                                                             // 26\n      id: \"addFriend\",                                                                                 // 27\n      \"class\": \"btn\"                                                                                   // 28\n    }, \"加好友\"), \":\"), \"\\n        \", HTML.P({                                                            // 29\n      \"class\": \"muted\"                                                                                 // 30\n    }, Blaze.View(\"lookup:time\", function() {                                                          // 31\n      return Spacebars.mustache(view.lookup(\"time\"));                                                  // 32\n    })), \"\\n        \", HTML.P(Spacebars.include(view.lookupTemplate(\"markdown\"), function() {          // 33\n      return Blaze.View(\"lookup:post\", function() {                                                    // 34\n        return Spacebars.mustache(view.lookup(\"post\"));                                                // 35\n      });                                                                                              // 36\n    })), \"\\n        \", Blaze.If(function() {                                                           // 37\n      return Spacebars.call(view.lookup(\"currentUser\"));                                               // 38\n    }, function() {                                                                                    // 39\n      return [ \"\\n            \", HTML.P(\"\\n            \", HTML.INPUT({                                 // 40\n        type: \"text\",                                                                                  // 41\n        \"class\": \"span8\",                                                                              // 42\n        id: function() {                                                                               // 43\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\".\"), \"_id\"));                           // 44\n        }                                                                                              // 45\n      }), \"\\n            \", HTML.BUTTON({                                                              // 46\n        id: \"commnetSubmit\",                                                                           // 47\n        \"class\": \"btn btn-success\"                                                                     // 48\n      }, \"评论\"), \"\\n            \"), \"\\n        \" ];                                                     // 49\n    }), \"\\n        \", Blaze.Each(function() {                                                          // 50\n      return Spacebars.call(view.lookup(\"comments\"));                                                  // 51\n    }, function() {                                                                                    // 52\n      return [ \"\\n            \", HTML.P(Blaze.View(\"lookup:user.username\", function() {                // 53\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"username\"));                     // 54\n      }), \" 评论: \", Blaze.View(\"lookup:post\", function() {                                              // 55\n        return Spacebars.mustache(view.lookup(\"post\"));                                                // 56\n      })), \"\\n        \" ];                                                                             // 57\n    }), \"\\n    \" ];                                                                                    // 58\n  }) ];                                                                                                // 59\n}));                                                                                                   // 60\n                                                                                                       // 61\n/////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.lists.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                     //\n// client/template.lists.js                                                                            //\n//                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                       //\n                                                                                                       // 1\nTemplate.__checkName(\"lists\");                                                                         // 2\nTemplate[\"lists\"] = new Template(\"Template.lists\", (function() {                                       // 3\n  var view = this;                                                                                     // 4\n  return Blaze.Each(function() {                                                                       // 5\n    return Spacebars.call(view.lookup(\"lists\"));                                                       // 6\n  }, function() {                                                                                      // 7\n    return [ \"\\n        \", HTML.LI(HTML.SPAN(\"第\", Blaze.View(\"lookup:rank\", function() {               // 8\n      return Spacebars.mustache(view.lookup(\"rank\"));                                                  // 9\n    }), \"名\"), HTML.SPAN(Blaze.View(\"lookup:user.username\", function() {                                // 10\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"username\"));                       // 11\n    })), HTML.SPAN(\"总分是\", Blaze.View(\"lookup:totalScore\", function() {                                 // 12\n      return Spacebars.mustache(view.lookup(\"totalScore\"));                                            // 13\n    }))), \"\\n    \" ];                                                                                  // 14\n  });                                                                                                  // 15\n}));                                                                                                   // 16\n                                                                                                       // 17\n/////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.login.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                     //\n// client/template.login.js                                                                            //\n//                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                       //\n                                                                                                       // 1\nTemplate.__checkName(\"login\");                                                                         // 2\nTemplate[\"login\"] = new Template(\"Template.login\", (function() {                                       // 3\n  var view = this;                                                                                     // 4\n  return HTML.Raw('<form action=\"\" class=\"form-horizontal\">\\n        <fieldset>\\n            <legend>用户登入</legend>\\n            <div class=\"control-group\">\\n                <label for=\"username\" class=\"control-label\">用户名</label>\\n                <div class=\"controls\">\\n                    <input type=\"text\" id=\"username\" class=\"input-xlarge\" name=\"username\" required=\"\">\\n                </div>\\n            </div>\\n            <div class=\"control-group\">\\n                <label for=\"password\" class=\"control-label\">密码</label>\\n                <div class=\"controls\">\\n                    <input type=\"password\" name=\"password\" class=\"input-xlarge\" id=\"password\" required=\"\">\\n                </div>\\n            </div>\\n            <div class=\"form-actions\">\\n                <button id=\"submit\" class=\"btn btn-primary\">登入</button>\\n            </div>\\n        </fieldset>\\n    </form>');\n}));                                                                                                   // 6\n                                                                                                       // 7\n/////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.reg.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                     //\n// client/template.reg.js                                                                              //\n//                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                       //\n                                                                                                       // 1\nTemplate.__checkName(\"reg\");                                                                           // 2\nTemplate[\"reg\"] = new Template(\"Template.reg\", (function() {                                           // 3\n  var view = this;                                                                                     // 4\n  return HTML.FORM({                                                                                   // 5\n    action: \"\",                                                                                        // 6\n    \"class\": \"form-horizontal\"                                                                         // 7\n  }, \"\\n        \", HTML.FIELDSET(\"\\n            \", HTML.getTag(\"lengend\")(\"用户注册\"), \"\\n            \", HTML.Raw('<div class=\"control-group\">\\n                <label for=\"username\" class=\"control-label\">用户名</label>\\n                <div class=\"controls\">\\n                    <input type=\"text\" id=\"username\" class=\"input-xlarge\" name=\"username\" required=\"\" autocomplete=\"false\">\\n                </div>\\n            </div>'), \"\\n            \", HTML.Raw('<div class=\"control-group\">\\n                <label for=\"useremail\" class=\"control-label\">邮箱</label>\\n                <div class=\"controls\">\\n                    <input type=\"text\" id=\"useremail\" class=\"input-xlarge\" name=\"useremail\" required=\"\" autocomplete=\"false\">\\n                </div>\\n            </div>'), \"\\n            \", HTML.Raw('<div class=\"control-group\">\\n                <label for=\"password\" class=\"control-label\">密码</label>\\n                <div class=\"controls\">\\n                    <input type=\"password\" class=\"input-xlarge\" id=\"password\" name=\"password\" required=\"\">\\n                </div>\\n            </div>'), \"\\n            \", HTML.Raw('<div class=\"control-group\">\\n                <label for=\"password-repeat\" class=\"control-label\">重复输入密码</label>\\n                <div class=\"controls\">\\n                    <input type=\"password\" name=\"password-repeat\" class=\"input-xlarge\" id=\"password-repeat\" required=\"\">\\n                </div>\\n            </div>'), \"\\n            \", HTML.Raw('<div class=\"form-actions\">\\n                <button id=\"submit\" class=\"btn btn-primary\">注册</button>\\n            </div>'), \"\\n        \"), \"\\n    \");\n}));                                                                                                   // 9\n                                                                                                       // 10\n/////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.self.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                     //\n// client/template.self.js                                                                             //\n//                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                       //\n                                                                                                       // 1\nTemplate.__checkName(\"self\");                                                                          // 2\nTemplate[\"self\"] = new Template(\"Template.self\", (function() {                                         // 3\n  var view = this;                                                                                     // 4\n  return Blaze.Each(function() {                                                                       // 5\n    return Spacebars.call(view.lookup(\"self\"));                                                        // 6\n  }, function() {                                                                                      // 7\n    return [ \"\\n        \", Blaze.If(function() {                                                       // 8\n      return Spacebars.call(view.lookup(\"isAdmin\"));                                                   // 9\n    }, function() {                                                                                    // 10\n      return [ \"\\n            \", HTML.H1(\"尊贵的管理员账户！\"), \"\\n        \" ];                                 // 11\n    }, function() {                                                                                    // 12\n      return [ \"\\n            \", HTML.H4(\"普通用户。\"), \"\\n        \" ];                                     // 13\n    }), \"\\n        \", HTML.LI(\"用户名：\", Blaze.View(\"lookup:user.username\", function() {                  // 14\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"username\"));                       // 15\n    })), \"\\n        \", HTML.LI(\"注册邮箱：\", Blaze.View(\"lookup:user.emails.0.address\", function() {        // 16\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"emails\", \"0\", \"address\"));         // 17\n    })), \"\\n        \", HTML.LI(\"总积分：\", Blaze.View(\"lookup:totalScore\", function() {                    // 18\n      return Spacebars.mustache(view.lookup(\"totalScore\"));                                            // 19\n    })), \"\\n        \", HTML.LI(\"今日积分：\", Blaze.View(\"lookup:todayScore\", function() {                   // 20\n      return Spacebars.mustache(view.lookup(\"todayScore\"));                                            // 21\n    })), \"\\n        \", HTML.LI(\"好友总数：\", Blaze.View(\"lookup:totalFriend\", function() {                  // 22\n      return Spacebars.mustache(view.lookup(\"totalFriend\"));                                           // 23\n    })), \"\\n        \", HTML.LI(\"排名：\", Blaze.View(\"lookup:rank\", function() {                           // 24\n      return Spacebars.mustache(view.lookup(\"rank\"));                                                  // 25\n    })), \"\\n        \", HTML.LI(\"注册时间：\", Blaze.View(\"lookup:time\", function() {                         // 26\n      return Spacebars.mustache(view.lookup(\"time\"));                                                  // 27\n    })), \"\\n    \" ];                                                                                   // 28\n  });                                                                                                  // 29\n}));                                                                                                   // 30\n                                                                                                       // 31\n/////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\"extensions\":[\".js\",\".json\",\".html\",\".css\"]});\nrequire(\"./client/template.client.js\");\nrequire(\"./client/template.index.js\");\nrequire(\"./client/template.lists.js\");\nrequire(\"./client/template.login.js\");\nrequire(\"./client/template.reg.js\");\nrequire(\"./client/template.self.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["/client/template.client.js","/client/template.index.js","/client/template.lists.js","/client/template.login.js","/client/template.reg.js","/client/template.self.js"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6G;;;;;;;;;;;AC7HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4G;;;;;;;;;;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4G;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA,2G;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4G;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4G","file":"/app.js","sourcesContent":["\nTemplate.body.addContent((function() {\n  var view = this;\n  return [ Spacebars.include(view.lookupTemplate(\"nav\")), \"\\n    \", Spacebars.include(view.lookupTemplate(\"container\")), \"\\n    \", Spacebars.include(view.lookupTemplate(\"footer\")) ];\n}));\nMeteor.startup(Template.body.renderToDocument);\n\nTemplate.__checkName(\"nav\");\nTemplate[\"nav\"] = new Template(\"Template.nav\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"navbar navbar-inverse navbar-fixed-top\"\n  }, \"\\n        \", HTML.DIV({\n    \"class\": \"navbar-inner\"\n  }, \"\\n            \", HTML.DIV({\n    \"class\": \"container\"\n  }, \"\\n                \", HTML.Raw('<a class=\"btn btn-navbar\" data-toggle=\"collapse\" data-target=\".nav-collapse\">\\n                    <span class=\"icon-bar\"></span>\\n                    <span class=\"icon-bar\"></span>\\n                    <span class=\"icon-bar\"></span>\\n                </a>'), \"\\n                \", HTML.Raw('<a href=\"/\" class=\"brand\">新闻爆料</a>'), \"\\n                \", HTML.DIV({\n    \"class\": \"nav-collapse\"\n  }, \"\\n                    \", HTML.UL({\n    \"class\": \"nav\"\n  }, \"\\n                        \", HTML.LI({\n    \"class\": function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"active\"), \"lists\"));\n    }\n  }, HTML.Raw('<a href=\"/lists\" style=\"font-weight: bold;color:#eee;font-size: 18px;\">排行榜</a>')), \"\\n                        \", HTML.LI({\n    \"class\": function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"active\"), \"index\"));\n    }\n  }, HTML.Raw('<a href=\"/\">首页</a>')), \"\\n                        \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n                            \", HTML.LI({\n      \"class\": function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"active\"), \"self\"));\n      }\n    }, HTML.A({\n      href: \"/self\"\n    }, Blaze.View(\"lookup:currentUser.username\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"currentUser\"), \"username\"));\n    }))), \"\\n                            \", HTML.LI({\n      \"class\": function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"active\"), \"friend\"));\n      }\n    }, HTML.A({\n      href: \"/friend\"\n    }, \"好友\")), \"\\n                            \", HTML.LI(HTML.A({\n      href: \"/logout\"\n    }, \"登出\")), \"\\n                        \" ];\n  }, function() {\n    return [ \"\\n                            \", HTML.LI({\n      \"class\": function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"active\"), \"login\"));\n      }\n    }, HTML.A({\n      href: \"/login\"\n    }, \"登入\")), \"\\n                            \", HTML.LI({\n      \"class\": function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"active\"), \"reg\"));\n      }\n    }, HTML.A({\n      href: \"/reg\"\n    }, \"注册\")), \"\\n                        \" ];\n  }), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \");\n}));\n\nTemplate.__checkName(\"container\");\nTemplate[\"container\"] = new Template(\"Template.container\", (function() {\n  var view = this;\n  return HTML.DIV({\n    id: \"container\",\n    \"class\": \"container\"\n  }, \"\\n        \", Spacebars.include(view.lookupTemplate(\"info\")), \"\\n        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"currentUrl\"), \"index\"));\n  }, function() {\n    return [ \"\\n            \", Spacebars.include(view.lookupTemplate(\"index\")), \"\\n        \" ];\n  }), \"\\n        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"currentUrl\"), \"login\"));\n  }, function() {\n    return [ \"\\n            \", Spacebars.include(view.lookupTemplate(\"login\")), \"\\n        \" ];\n  }), \"\\n        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"currentUrl\"), \"reg\"));\n  }, function() {\n    return [ \"\\n            \", Spacebars.include(view.lookupTemplate(\"reg\")), \"\\n        \" ];\n  }), \"\\n        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"currentUrl\"), \"self\"));\n  }, function() {\n    return [ \"\\n            \", Spacebars.include(view.lookupTemplate(\"self\")), \"\\n        \" ];\n  }), \"\\n        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"currentUrl\"), \"friend\"));\n  }, function() {\n    return [ \"\\n            \", Spacebars.include(view.lookupTemplate(\"friend\")), \"\\n        \" ];\n  }), \"\\n        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"currentUrl\"), \"lists\"));\n  }, function() {\n    return [ \"\\n            \", Spacebars.include(view.lookupTemplate(\"lists\")), \"\\n        \" ];\n  }), \"\\n    \");\n}));\n\nTemplate.__checkName(\"footer\");\nTemplate[\"footer\"] = new Template(\"Template.footer\", (function() {\n  var view = this;\n  return HTML.Raw('<p class=\"muted text-center\">Newsplatform 2016</p>');\n}));\n\nTemplate.__checkName(\"info\");\nTemplate[\"info\"] = new Template(\"Template.info\", (function() {\n  var view = this;\n  return [ Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"info\"), \"success\"));\n  }, function() {\n    return [ \"\\n        \", HTML.DIV({\n      \"class\": \"alert alert-success\"\n    }, Blaze.View(\"lookup:info.success\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"info\"), \"success\"));\n    })), \"\\n    \" ];\n  }), \"\\n    \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"info\"), \"error\"));\n  }, function() {\n    return [ \"\\n        \", HTML.DIV({\n      \"class\": \"alert alert-error\"\n    }, Blaze.View(\"lookup:info.error\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"info\"), \"error\"));\n    })), \"\\n    \" ];\n  }) ];\n}));\n","\nTemplate.__checkName(\"index\");\nTemplate[\"index\"] = new Template(\"Template.index\", (function() {\n  var view = this;\n  return [ Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n        \", HTML.FORM({\n      action: \"\",\n      \"class\": \"well form-inline center\",\n      style: \"text-align:center;\"\n    }, \"\\n            \", HTML.TEXTAREA({\n      \"class\": \"span8\",\n      id: \"post\"\n    }), \"\\n            \", HTML.BUTTON({\n      id: \"submit\",\n      \"class\": \"btn btn-success\"\n    }, \"发表\"), \"\\n        \"), \"\\n    \" ];\n  }, function() {\n    return [ \"\\n        \", HTML.H2(\"游客无法发布新闻或者评论。请注册或者登陆。\"), \"\\n    \" ];\n  }), \"\\n    \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"posts\"));\n  }, function() {\n    return [ \"\\n        \", HTML.H2(Blaze.View(\"lookup:user.username\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"username\"));\n    }), \" \", HTML.BUTTON({\n      id: \"addFriend\",\n      \"class\": \"btn\"\n    }, \"加好友\"), \":\"), \"\\n        \", HTML.P({\n      \"class\": \"muted\"\n    }, Blaze.View(\"lookup:time\", function() {\n      return Spacebars.mustache(view.lookup(\"time\"));\n    })), \"\\n        \", HTML.P(Spacebars.include(view.lookupTemplate(\"markdown\"), function() {\n      return Blaze.View(\"lookup:post\", function() {\n        return Spacebars.mustache(view.lookup(\"post\"));\n      });\n    })), \"\\n        \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"currentUser\"));\n    }, function() {\n      return [ \"\\n            \", HTML.P(\"\\n            \", HTML.INPUT({\n        type: \"text\",\n        \"class\": \"span8\",\n        id: function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\".\"), \"_id\"));\n        }\n      }), \"\\n            \", HTML.BUTTON({\n        id: \"commnetSubmit\",\n        \"class\": \"btn btn-success\"\n      }, \"评论\"), \"\\n            \"), \"\\n        \" ];\n    }), \"\\n        \", Blaze.Each(function() {\n      return Spacebars.call(view.lookup(\"comments\"));\n    }, function() {\n      return [ \"\\n            \", HTML.P(Blaze.View(\"lookup:user.username\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"username\"));\n      }), \" 评论: \", Blaze.View(\"lookup:post\", function() {\n        return Spacebars.mustache(view.lookup(\"post\"));\n      })), \"\\n        \" ];\n    }), \"\\n    \" ];\n  }) ];\n}));\n","\nTemplate.__checkName(\"lists\");\nTemplate[\"lists\"] = new Template(\"Template.lists\", (function() {\n  var view = this;\n  return Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"lists\"));\n  }, function() {\n    return [ \"\\n        \", HTML.LI(HTML.SPAN(\"第\", Blaze.View(\"lookup:rank\", function() {\n      return Spacebars.mustache(view.lookup(\"rank\"));\n    }), \"名\"), HTML.SPAN(Blaze.View(\"lookup:user.username\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"username\"));\n    })), HTML.SPAN(\"总分是\", Blaze.View(\"lookup:totalScore\", function() {\n      return Spacebars.mustache(view.lookup(\"totalScore\"));\n    }))), \"\\n    \" ];\n  });\n}));\n","\nTemplate.__checkName(\"login\");\nTemplate[\"login\"] = new Template(\"Template.login\", (function() {\n  var view = this;\n  return HTML.Raw('<form action=\"\" class=\"form-horizontal\">\\n        <fieldset>\\n            <legend>用户登入</legend>\\n            <div class=\"control-group\">\\n                <label for=\"username\" class=\"control-label\">用户名</label>\\n                <div class=\"controls\">\\n                    <input type=\"text\" id=\"username\" class=\"input-xlarge\" name=\"username\" required=\"\">\\n                </div>\\n            </div>\\n            <div class=\"control-group\">\\n                <label for=\"password\" class=\"control-label\">密码</label>\\n                <div class=\"controls\">\\n                    <input type=\"password\" name=\"password\" class=\"input-xlarge\" id=\"password\" required=\"\">\\n                </div>\\n            </div>\\n            <div class=\"form-actions\">\\n                <button id=\"submit\" class=\"btn btn-primary\">登入</button>\\n            </div>\\n        </fieldset>\\n    </form>');\n}));\n","\nTemplate.__checkName(\"reg\");\nTemplate[\"reg\"] = new Template(\"Template.reg\", (function() {\n  var view = this;\n  return HTML.FORM({\n    action: \"\",\n    \"class\": \"form-horizontal\"\n  }, \"\\n        \", HTML.FIELDSET(\"\\n            \", HTML.getTag(\"lengend\")(\"用户注册\"), \"\\n            \", HTML.Raw('<div class=\"control-group\">\\n                <label for=\"username\" class=\"control-label\">用户名</label>\\n                <div class=\"controls\">\\n                    <input type=\"text\" id=\"username\" class=\"input-xlarge\" name=\"username\" required=\"\" autocomplete=\"false\">\\n                </div>\\n            </div>'), \"\\n            \", HTML.Raw('<div class=\"control-group\">\\n                <label for=\"useremail\" class=\"control-label\">邮箱</label>\\n                <div class=\"controls\">\\n                    <input type=\"text\" id=\"useremail\" class=\"input-xlarge\" name=\"useremail\" required=\"\" autocomplete=\"false\">\\n                </div>\\n            </div>'), \"\\n            \", HTML.Raw('<div class=\"control-group\">\\n                <label for=\"password\" class=\"control-label\">密码</label>\\n                <div class=\"controls\">\\n                    <input type=\"password\" class=\"input-xlarge\" id=\"password\" name=\"password\" required=\"\">\\n                </div>\\n            </div>'), \"\\n            \", HTML.Raw('<div class=\"control-group\">\\n                <label for=\"password-repeat\" class=\"control-label\">重复输入密码</label>\\n                <div class=\"controls\">\\n                    <input type=\"password\" name=\"password-repeat\" class=\"input-xlarge\" id=\"password-repeat\" required=\"\">\\n                </div>\\n            </div>'), \"\\n            \", HTML.Raw('<div class=\"form-actions\">\\n                <button id=\"submit\" class=\"btn btn-primary\">注册</button>\\n            </div>'), \"\\n        \"), \"\\n    \");\n}));\n","\nTemplate.__checkName(\"self\");\nTemplate[\"self\"] = new Template(\"Template.self\", (function() {\n  var view = this;\n  return Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"self\"));\n  }, function() {\n    return [ \"\\n        \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"isAdmin\"));\n    }, function() {\n      return [ \"\\n            \", HTML.H1(\"尊贵的管理员账户！\"), \"\\n        \" ];\n    }, function() {\n      return [ \"\\n            \", HTML.H4(\"普通用户。\"), \"\\n        \" ];\n    }), \"\\n        \", HTML.LI(\"用户名：\", Blaze.View(\"lookup:user.username\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"username\"));\n    })), \"\\n        \", HTML.LI(\"注册邮箱：\", Blaze.View(\"lookup:user.emails.0.address\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"emails\", \"0\", \"address\"));\n    })), \"\\n        \", HTML.LI(\"总积分：\", Blaze.View(\"lookup:totalScore\", function() {\n      return Spacebars.mustache(view.lookup(\"totalScore\"));\n    })), \"\\n        \", HTML.LI(\"今日积分：\", Blaze.View(\"lookup:todayScore\", function() {\n      return Spacebars.mustache(view.lookup(\"todayScore\"));\n    })), \"\\n        \", HTML.LI(\"好友总数：\", Blaze.View(\"lookup:totalFriend\", function() {\n      return Spacebars.mustache(view.lookup(\"totalFriend\"));\n    })), \"\\n        \", HTML.LI(\"排名：\", Blaze.View(\"lookup:rank\", function() {\n      return Spacebars.mustache(view.lookup(\"rank\"));\n    })), \"\\n        \", HTML.LI(\"注册时间：\", Blaze.View(\"lookup:time\", function() {\n      return Spacebars.mustache(view.lookup(\"time\"));\n    })), \"\\n    \" ];\n  });\n}));\n"]}}]